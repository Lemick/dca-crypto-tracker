<app-add-invest></app-add-invest>
<app-import-invest></app-import-invest>

<div class="">
  <button nz-button [nzType]="'primary'" (click)="showAddInvestModal()">
    <i nz-icon nzType="plus" nzTheme="outline"></i>
    <span>Add invest</span>
  </button>

  <button nz-button [nzType]="'default'" (click)="showImportInvestModal()">
    <i nz-icon nzType="import" nzTheme="outline"></i>
    <span>Import CSV</span>
  </button>
</div>

<ng-template [ngIf]="!isLoading">
  <nz-table #basicTable [nzData]="investElements">
    <thead>
    <tr>
      <th>Date de l'investissement</th>
      <th>Cryptomonnaie</th>
      <th>Valeur echang√©e</th>
      <th>Valeur d'achat</th>
      <th>Gain net</th>
      <th>Gain %</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let investElement of basicTable.data">
      <td>{{ investElement.investDate | date }}</td>
      <td><img src="{{ getLogoUrl(investElement.coinId) }}"/> {{ investElement.coinId | uppercase }}</td>
      <td>{{ investElement.valueAcquired }}</td>
      <td>{{ investElement.conversionRate | number }} {{ investElement.sourceCurrency | uppercase }}</td>
      <td
        [ngClass]="calculateNetGain(investElement) >= 0 ? 'positive' : 'negative'">
        {{ calculateNetGain(investElement) | number}} {{ investElement.sourceCurrency | uppercase }}
      </td>
      <td
        [ngClass]="calculateRateGain(investElement) >= 0 ? 'positive' : 'negative'">
        {{ calculateRateGain(investElement) | number }}%
      </td>
    </tr>
    </tbody>
  </nz-table>
</ng-template>
